--- a/file_editing_bench/add_function_to_file_python/task_files/game_stats.py
+++ b/file_editing_bench/add_function_to_file_python/game_stats.after.py
@@ -2,6 +2,14 @@ from typing import List, Dict
 from datetime import datetime
 
 
+def calculate_win_percentage(wins: int, total_games: int) -> float:
+    """
+    Calculate win percentage from wins and total games.
+    Returns percentage between 0 and 100, rounded to 1 decimal place.
+    """
+    return round((wins / total_games * 100) if total_games > 0 else 0.0, 1)
+
+
 def analyze_team_performance(game_results: List[Dict]) -> Dict:
     """Analyzes team performance from a list of game results."""
     total_points = 0
@@ -26,15 +34,12 @@ def analyze_team_performance(game_results: List[Dict]) -> Dict:
         for quarter, points in game['quarter_points'].items():
             points_by_quarter[quarter] += points
     
-    # Calculate win percentage manually
-    win_percentage = (wins / total_games * 100) if total_games > 0 else 0.0
-    
     return {
         'total_games': total_games,
         'total_points': total_points,
         'wins': wins,
         'losses': losses,
-        'win_percentage': round(win_percentage, 1),
+        'win_percentage': calculate_win_percentage(wins, total_games),
         'avg_points_per_game': round(total_points / total_games, 1) if total_games > 0 else 0,
         'points_by_quarter': points_by_quarter
     }
